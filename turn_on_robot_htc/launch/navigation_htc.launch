<launch>

    <arg name="htc_car_mode" default="" /> 
    <arg name="htc_nav_mode" default="" />

    <!-- 设置用于导航的地图 -->
    <arg name="map_file" default="$(find turn_on_robot_htc)/map/MAP.yaml" />
    <node pkg="map_server" type="map_server" name="map_server_htc" args="$(arg map_file)" />

    <!-- 开启用于导航的自适应蒙特卡洛定位amcl-->
    <include file="$(find turn_on_robot_htc)/launch/include/amcl.launch" />

    <!-- MarkerArray功能节点> -->
    <node name='send_mark' pkg="turn_on_robot_htc" type="send_mark.py" />

    <!-- 导航算法 -->
    <include file="$(find turn_on_robot_htc)/launch/include/teb_local_planner.launch" if="$(eval htc_nav_mode == 'teb_local_planner')">
        <arg name="htc_car_mode" value="$(arg htc_car_mode)" /> 
    </include>
    <include file="$(find turn_on_robot_htc)/launch/include/dwa_local_planner.launch" if="$(eval htc_nav_mode == 'dwa_local_planner')">
        <arg name="htc_car_mode" value="$(arg htc_car_mode)" /> 
    </include>

    <!-- <node pkg="rviz" type="rviz" name="rviz" /> -->
    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find turn_on_robot_htc)/rviz/nav.rviz" />

</launch>